name: Python application

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

permissions:
  contents: read

jobs:
    deployToACA:

        runs-on: ubuntu-latest

        steps:

        - name: Log in to Azure
          uses: azure/login@v1
          with:
                creds: ${{ secrets.AZURE_CREDENTIALS }}
        
        - name: Build and deploy Container App
          uses: azure/container-apps-deploy-action@v0
          with:
                appSourcePath: ${{ github.workspace }}/src
                acrName: myregistry
                containerAppName: my-container-app
                resourceGroup: my-rg